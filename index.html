<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <title>Дъска два пъти - без изчезване</title>
  <style>
    .chessboard {
      width: 320px;
      height: 320px;
      display: flex;
      flex-wrap: wrap;
      border: 2px solid #333;
      margin: 20px auto;
    }
    .square {
      width: 40px;
      height: 40px;
    }
    .square.white {
      background: #eee;
    }
    .square.black {
      background: #777;
    }
  </style>
</head>
<body>

<div id="board"></div>

<script>
  (function() {
    function Chessboard(id) {
      this.element = document.getElementById(id);
    }

    Chessboard.prototype.render = function() {
      this.element.innerHTML = ''; // Изчистваме предишното съдържание
      this.element.className = 'chessboard';
      for(let i=0; i<64; i++) {
        let square = document.createElement('div');
        square.className = 'square ' + ((Math.floor(i/8)+i) % 2 === 0 ? 'white' : 'black');
        this.element.appendChild(square);
      }
    };

    window.Chessboard = Chessboard;
  })();

  const board = new Chessboard('board');

  // Първо изрисуваме дъската
  board.render();

  // Второ извикване на render() - през няколко милисекунди, просто да се изпълни отново
  setTimeout(() => {
    board.render();
  }, 100);
</script>

</body>
</html>
