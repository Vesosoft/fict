<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Veso's PGN Viewer</title>
  <style>
    body { background: #121212; color: #eee; font-family: sans-serif; padding: 20px; }
    textarea { width: 100%; height: 150px; background: #1e1e1e; color: #f0f0f0; padding: 10px; border: 1px solid #444; font-family: monospace; }
    button, select { margin-top: 10px; margin-right: 10px; padding: 10px 15px; font-size: 16px; background: #333; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
    button:hover, select:hover { background: #555; }
    #board { width: 400px; margin-top: 20px; }
    #langSelect { float: right; }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chessboardjs@0.3.0/dist/chessboard-0.3.0.min.css" />
</head>
<body>

  <select id="langSelect">
    <option value="bg">ğŸ‡§ğŸ‡¬ BG</option>
    <option value="ua">ğŸ‡ºğŸ‡¦ UA</option>
    <option value="en">ğŸ‡¬ğŸ‡§ EN</option>
  </select>

  <h2 id="title">Veso's PGN Viewer ğŸ¤ </h2>

  <textarea id="pgn" placeholder="ĞŸĞ¾ÑÑ‚Ğ°Ğ²Ğ¸ Ñ‚ÑƒĞº PGN Ğ¿Ğ°Ñ€Ñ‚Ğ¸ÑÑ‚Ğ° ÑĞ¸..."></textarea><br />
  <button id="loadBtn">Ğ—Ğ°Ñ€ĞµĞ´Ğ¸ Ğ¿Ğ°Ñ€Ñ‚Ğ¸ÑÑ‚Ğ°</button>
  <button id="shareBtn">Ğ¡Ğ¿Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ²ÑŠĞ² Facebook</button>

  <div id="board"></div>

  <script src="https://cdn.jsdelivr.net/npm/chess.js@0.13.4/chess.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chessboardjs@0.3.0/dist/chessboard-0.3.0.min.js"></script>

  <script>
    let board = null;
    let chess = new Chess();

    function initBoard() {
      board = Chessboard('board', {
        draggable: false,
        position: 'start'
      });
    }

    function loadPGN() {
      const pgn = document.getElementById('pgn').value;
      if (chess.load_pgn(pgn)) {
        board.position(chess.fen());
      } else {
        alert(currentLang === 'bg' ? 'ĞĞµĞ²Ğ°Ğ»Ğ¸Ğ´ĞµĞ½ PGN!' : currentLang === 'ua' ? 'ĞĞµĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ğ¸Ğ¹ PGN!' : 'Invalid PGN!');
      }
    }

    function shareFB() {
      const u = encodeURIComponent(window.location.href);
      window.open('https://www.facebook.com/sharer/sharer.php?u=' + u, '', 'width=600,height=400');
    }

    const langData = {
      bg: {
        title: "Veso's PGN Viewer ğŸ¤ ",
        placeholder: "ĞŸĞ¾ÑÑ‚Ğ°Ğ²Ğ¸ Ñ‚ÑƒĞº PGN Ğ¿Ğ°Ñ€Ñ‚Ğ¸ÑÑ‚Ğ° ÑĞ¸...",
        load: "Ğ—Ğ°Ñ€ĞµĞ´Ğ¸ Ğ¿Ğ°Ñ€Ñ‚Ğ¸ÑÑ‚Ğ°",
        share: "Ğ¡Ğ¿Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ²ÑŠĞ² Facebook"
      },
      ua: {
        title: "ĞŸĞµÑ€ĞµĞ³Ğ»ÑĞ´Ğ°Ñ‡ Ğ¿Ğ°Ñ€Ñ‚Ñ–Ğ¹ Veso ğŸ¤ ",
        placeholder: "Ğ’ÑÑ‚Ğ°Ğ² ÑÑĞ´Ğ¸ ÑĞ²Ğ¾Ñ Ğ¿Ğ°Ñ€Ñ‚Ñ–Ñ (PGN)...",
        load: "Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶Ğ¸Ñ‚Ğ¸ Ğ¿Ğ°Ñ€Ñ‚Ñ–Ñ",
        share: "ĞŸĞ¾Ğ´Ñ–Ğ»Ğ¸Ñ‚Ğ¸ÑÑ Ñƒ Facebook"
      },
      en: {
        title: "Veso's PGN Viewer ğŸ¤ ",
        placeholder: "Paste your PGN game here...",
        load: "Load Game",
        share: "Share on Facebook"
      }
    };

    let currentLang = 'bg';

    function updateLang(lang) {
      currentLang = lang;
      const data = langData[lang];
      document.getElementById('title').innerText = data.title;
      document.getElementById('pgn').placeholder = data.placeholder;
      document.getElementById('loadBtn').innerText = data.load;
      document.getElementById('shareBtn').innerText = data.share;
    }

    document.getElementById('langSelect').addEventListener('change', (e) => {
      updateLang(e.target.value);
    });

    document.getElementById('loadBtn').addEventListener('click', loadPGN);
    document.getElementById('shareBtn').addEventListener('click', shareFB);

    window.addEventListener('load', () => {
      initBoard();
    });
  </script>

</body>
</html>
