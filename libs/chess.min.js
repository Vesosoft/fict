/*! chess.min.js — compact browser version */
window.Chess = function() {
  let history = [], position = 'start';

  function reset() {
    position = 'start';
    history = [];
  }

  function load_pgn(pgn) {
    // Много опростено зареждане на ходове (показваме само начална позиция)
    history = pgn.match(/\d+\.\s*\S+\s+\S+/g) || [];
    return history.length > 0;
  }

  function move(m) {
    history.push(m);
  }

  function fen() {
    return "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"; // винаги начална
  }

  function history_list() {
    return history;
  }

  return {
    reset,
    load_pgn,
    move,
    fen,
    history: history_list
  };
};
